<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Groovy DSL</title>
    <meta name="description" content="The power of Groovy for DSL and User Interaction in this presentation">
    <meta name="author" content="Corinne Krych, Sebastien Blanc, Fabrice Matrat">
    <link rel="shortcut icon" href="img/icon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/grails.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/grails.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/grails.png">
    <link rel="apple-touch-icon-precomposed" href="img/grails.png">
    <link rel="stylesheet" href="css/codemirror.css">
    <link rel="stylesheet" href="css/eclipse.css">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.css" rel="stylesheet">
    <link href="css/jqcloud.css" rel="stylesheet">
    <link href="css/prez.css" media="all" rel="stylesheet">
    <style type="text/css">
        .CodeMirror {border-top: 1px solid black; border-bottom: 1px solid black;}
        .CodeMirror-foldmarker {
            color: blue;
            text-shadow: #b9f 1px 1px 2px, #b9f -1px -1px 2px, #b9f 1px -1px 2px, #b9f -1px 1px 2px;
            font-family: arial;
            line-height: .3;
            cursor: pointer;
        }
        .CodeMirror-foldgutter {
            width: .7em;
        }
        .CodeMirror-foldgutter-open,
        .CodeMirror-foldgutter-folded {
            color: #555;
            cursor: pointer;
        }
        .CodeMirror-foldgutter-open:after {
            content: "\25BE";
        }
        .CodeMirror-foldgutter-folded:after {
            content: "\25B8";
        }
    </style>
</head>
<body>
<div id="header" >
    <div style="float:left">
        <a href="http://groovy.codehaus.org">
            <table><tr><td style="vertical-align:middle;"><img  src="img/turtle1.png" style="height:35px"/></td><td > </td></tr></table>
        </a>
    </div>
    <div style="display: inline-block; margin:0 auto;">
        <a id="currentTitle" style="font-size:20px;" href="https://github.com/corinnekrych/Gr8ConfUS">Groovy DSL for Kids</a>
    </div>
    <div style="float:right">
        <a href="http://grails.org">
            <table><tr><td style="vertical-align: middle; "> </td><td><img src="img/turtle2.png" style="height:35px"/></td></tr></table>
        </a>
    </div>
</div>
<div  id="wrapper">
<ul>
<li class="slide"  title="">

    <div class="container-narrow">
        <hr>

        <div class="jumbotron" style="font-family: fantasy">
            <h1>Embedded DSL:<br/><br/> Groovy and Scala Fair Duel</h1>
        </div>

        <hr>
        <div class="row-fluid marketing">
            <div class="span2">&nbsp;</div>
            <div class="span4">
                <p><img width="35%" src="img/corinne_krych.png"/></p>
                <h4>Corinne Krych</h4>
            </div>

            <div class="span4">
                <p><img width="35%" src="img/freeBSD.png"/></p>
                <h4>Pascal Cohen</h4>
            </div>
            <div class="span2">&nbsp;</div>
        </div>
        <hr>

        <div class="jumbotron">
            <p>to submit the editor code to Grails app: ctrl S (command S on Mac)</p>
            <p>be careful using 1,2,3... it makes code snippet appears in the editor(focus must be inside editor)</p>
        </div>
        <hr>
        <div>
            <p style=""><img width="15%" src="img/j1.png"/></p>
        </div>

        <canvas id="animationcanvas" style="width: 100%; position: absolute; left: 0; bottom: 5px;" width="1000" height="50" ></canvas>
        <code style="visibility: hidden;" id="animationcontent" class="language-javascript">
            var f = true;
            function animate() {
                f = !f;
                moveObject('emily', {
                    role: 'turtle2',
                    y: 19,
                    x: f ? 0 : 19,
                    rotation: 0
                }, function () {});
                moveObject('franklin', {
                    role: 'turtle1',
                    y: 19,
                    x: f ? 19 : 0,
                    rotation: 0
                }, animate);
            }
            animate();</pre></code>

        <script>
            (function () {
                var canvas = document.getElementById('animationcanvas');
                var ctx = canvas.getContext('2d');
                var grid = 20;
                ctx.scale(canvas.width / grid, canvas.height);
                ctx.translate(1/2, 1/2);

                var images = {};
                function draw(place) {
                    if (!images[place.role]) {
                        images[place.role] = new Image();
                        images[place.role].src = 'img/' + place.role + '.png';
                    }
                    ctx.save();
                    ctx.translate(place.x, grid - 1 - place.y);
                    ctx.rotate(- place.rotation);
                    ctx.drawImage(images[place.role], -1/2, -1/2, 1, 1);
                    ctx.restore();
                }

                function average(from, to, progress) {
                    return from + (to - from) * progress;
                }

                var duration = 7000;
                var current = {};
                var animated = {};
                function animate() {
                    var name;
                    var cont = false;
                    ctx.clearRect(-1, -1, grid + 1, grid + 1);
                    //drawGrid();
                    for (name in animated) {
                        if (animated.hasOwnProperty(name)) {
                            var to = animated[name];
                            var from = current[name];
                            var progress = (Date.now() - to.startTime) / duration;
                            if (progress > 1) {
                                current[name] = {
                                    role: to.role,
                                    x: to.x,
                                    y: to.y,
                                    rotation: to.rotation
                                };
                                delete animated[name];
                                if (to.cb) {
                                    to.cb();
                                }
                            } else {
                                cont = true;
                                draw({
                                    role: to.role,
                                    x: average(from.x, to.x, progress),
                                    y: average(from.y, to.y, progress),
                                    rotation: average(from.rotation, to.rotation, progress)
                                });
                            }
                        }
                    }
                    for (name in current) {
                        if (current.hasOwnProperty(name) && !animated[name]) {
                            draw(current[name]);
                        }
                    }
                    if (cont) {
                        setTimeout(animate, 1000 / 60);
                    }
                }

                function moveObject(name, object, callback) {
                    if (!current[name]) {
                        current[name] = object;
                        animate();
                        callback();
                    } else {
                        object.startTime = Date.now();
                        object.cb = callback;
                        animated[name] = object;
                        animate();
                    }
                }
                eval('(function() {' + document.getElementById('animationcontent').innerHTML + '}())');
            })();
        </script>

    </div>
</li>

<li class="slide" title="Agenda">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
        <ul>
        <li>Objectives of this session</li>
        <li>Some context</li>
        <li>Short technical reminder on DSLs</li>
        <li>Let's build the DSL step by step</li>
        <li>Let's put everything together</li>
        <li>Enlarging the scope</li>
        <li>Testing, more features</li>
        <li>Conclusion</li>
        </ul>
        </div>
        But first ...
    </div>
</li>

<li class="slide" title="Corinne">
    <div class="container-narrow">
        <hr>

        <div class="jumbotron">
            <h1>Ladies first : Corinne</h1><br/>
            <img width="20%" src="img/corinne_krych.png"/><br/>
        </div>

        <hr>

        <div class="row-fluid marketing">
            <div class="span4">
                <a href="https://twitter.com/corinnekrych"><img src="img/twitter.png" /></a>
                <h4>@corinnekrych</h4>
            </div>
            <div class="span4">
                <a href="https://github.com/corinnekrych"><img src="img/github.png"/></a>
                <h4>https://github.com/corinnekrych</h4>
            </div>
            <div class="span4">
                <a href="mailto:corinnekrych@gmail.com"><img width="24px" src="img/gmail.png" ></a>
                <h4>corinnekrych@gmail.com</h4>
            </div>
        </div>

        <br/>
        <div style ="height: 2%">
        <div style="float: left; font-size: 25px; text-align: left; display: inline-block; width: 16%">
            <img src="img/rivierargug.png" width="100%"/>
        </div>
        <div style="float:left;text-align:left;display:inline-block;width: 16%">
            <img src="img/3musket33rs.jpeg" width="100%"/>
        </div>

        <div style="float: left; font-size: 25px; text-align: left; display: inline-block; width: 16%">
            <img src="img/js-sophia-small.png" width="100%"/>
        </div>

        <div style="float: right; font-size: 25px; text-align: left; display: inline-block; width: 16%">
            <img src="img/logo_duchess_all_in_one_small.png" width="100%"/>
        </div>
        <div style="float:right;text-align:right;display:inline-block;width: 16%">
            <img src="img/aerogear.png" width="100%"/>
        </div>
        <div style="float:right;text-align:right;display:inline-block;width: 16%">
            <img src="img/redhat-logo-cloud.jpeg" width="90%"/>
        </div>
            </div>
    </div>
</li>

<li class="slide" title="Pascal">
    <div class="container-narrow">
        <hr>

        <div class="jumbotron">
            <h1>Pascal : my geek friend</h1><br/>
            <img width="20%" src="img/freeBSD.png"/><br/>
        </div>

        <hr>

        <div class="row-fluid marketing">
            <div class="span4">
                <a href="https://twitter.com/PascalCohen"><img src="img/twitter.png" /></a>
                <h4>@PascalCohen</h4>
            </div>
            <div class="span4">
                <a href="https://github.com/pascohent"><img src="img/github.png"/></a>
                <h4>https://github.com/pascohen</h4>
            </div>
            <div class="span4">
                <a href="mailto:pascohen@gmail.com"><img width="24px" src="img/gmail.png" ></a>
                <h4>pascohen@gmail.com</h4>
            </div>
        </div>
        <br/>
        <div style="width: 100%">
            <div style="float:left;text-align:right;display:inline-block;width: 30%">
                <img src="img/a.png" width="50%"/>
            </div>
            <div style="float:left;text-align:right;display:inline-block;width: 10%">
                &nbsp;
            </div>
            <div style="float: left; font-size: 25px; text-align: left; display: inline-block; width: 30%">
                <img src="img/rivierargug.png" width="50%"/>
            </div>
            <div style="float: left; font-size: 25px; text-align: left; display: inline-block; width: 30%">
                <img src="img/Lambda.svg" width="50%"/>
            </div>
        </div>
    </div>
</li>

<li class="slide" title="Coming from...">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <h1>Kids <b>DSL</b>?</h1><br/>
        </div>
        <hr>
        <div class="row-fluid marketing">
            <div class="span12">
                <h1>From</h1><br/>
                <div style="float: left; font-size: 25px; text-align: center; display: inline-block; width: 50%">
                    <img src="img/grails48.jpg" width="80%"/>
                </div>
                <div style="float: left; font-size: 25px; text-align: center; display: inline-block; width: 50%">
                    <img src="img/amadeus.jpg" width="80%"/>
                </div>
            </div>
        </div>
        <div class="jumbotron">
            <h1>To Kissing Turtles</h1><br/>
            <div style="float: left; font-size: 25px; text-align: center; display: inline-block; width: 50%">
                <img src="img/turtle1.png" width="40%"/>
            </div>
            <div style="float: left; font-size: 25px; text-align: center; display: inline-block; width: 50%">
                <img src="img/turtle2.png" width="40%"/>
            </div>
        </div>
    </div>
</li>

<li class="slide" title="DSL Definition">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <h1>WHAT IS A <b>DSL</b>?</h1><br/>
        </div>
        <hr>
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <p style="line-height: 150%;font-size: 35px"><strong>Domain-specific language</strong> (noun)</p>
                <p style="line-height: 150%;font-size: 30px" >a computer programming language of limited expressiveness focused on a particular domain</p>
                <h3>- Martin Fowler</h3>
            </div>
            <div class="span2">
            </div>
        </div-->
        <!--<div class="row-fluid marketing">-->
            <!--<div class="span2">-->
            <!--</div>-->
            <!--<div class="span8">-->
                <!--<p style="line-height: 150%;font-size: 30px" >a language offering expressive power focused on a particular problem domain, such as a specific class of applications or application aspect</p>-->
                <!--<h3>- Czarnecki Krzysztof </h3>-->
            <!--</div>-->
            <!--<div class="span2">-->
            <!--</div>-->
        <!--</div>-->
    </div>
</li>

<li class="slide" title="Computer Language">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <pre style="font-size:16px;text-align:justify">
        10000110 10000000 11000000 00000101 10000110 10000000 11000000 00000101 10000110 10000000
        11000000 00000101 10000110 10000000 11000000 00000101 00000000 00000000 00000000 00010100
        00000000 00000000 00000000 00010100 10000110 10000000 11000000 00000101 10000110 10000000
        10000110 10000000 11000000 00000101 10000110 10000000 11000000 00000101 10000110 10000000
        11000000 00000101 10000110 10000000 11000000 00000101 00000000 00000000 00000000 00010100
        00000000 00000000 00000000 00010100 10000110 10000000 11000000 00000101 10000110 10000000
        10000110 10000000 11000000 00000101 10000110 10000000 11000000 00000101 10000110 10000000
        11000000 00000101 10000110 10000000 11000000 00000101 00000000 00000000 00000000 00010100
        00000000 00000000 00000000 00010100 10000110 10000000 11000000 00000101 10000110 10000000
        10000110 10000000 11000000 00000101 10000110 10000000 11000000 00000101 10000110 10000000
        11000000 00000101 10000110 10000000 11000000 00000101 00000000 00000000 00000000 00010100
        00000000 00000000 00000000 00010100 10000110 10000000 11000000 00000101 10000110 10000000
        10000110 10000000 11000000 00000101 10000110 10000000 11000000 00000101 10000110 10000000
        11000000 00000101 10000110 10000000 11000000 00000101 00000000 00000000 00000000 00010100
        00000000 00000000 00000000 00010100 10000110 10000000 11000000 00000101 10000110 10000000
        10000110 10000000 11000000 00000101 10000110 10000000 11000000 00000101 10000110 10000000
        11000000 00000101 10000110 10000000 11000000 00000101 00000000 00000000 00000000 00010100
        00000000 00000000 00000000 00010100 10000110 10000000 11000000 00000101 10000110 10000000
            </pre>
        </div>
        <hr>
    </div>
</li>

<li class="slide" title="Computer Programming Language">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                    <pre class="code" style="line-height: 150%;font-size: 25px">
    <b class="code-color">SELECT</b> Bride
    <b class="code-color">FROM</b> SingleWomen
    <b class="code-color">WHERE</b> FatherInLaw = 'Millionaire'
    <b class="code-color">AND</b> Count(Car) > 20

    <b class="code-color">SELECT</b> Cash, Car, BankBalance
    <b class="code-color">FROM</b> FatherInLaw

    <b class="code-color">UPDATE</b> MyBankAccout
    <b class="code-color">SET</b> MyBal = MyBal + FatherInLawBal

    <b class="code-color">INSERT INTO</b> MyCarShed
    <b class="code-color">VALUES</b>('BMW')
                    </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<li class="slide" title="Rubik Cube">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <img style="width:15%" src="img/cube_of_rubik_1.png"><br/>
        </div>
        <hr>
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <h1>RR U F B' RR F' B U RR</h1>
                    <pre class="code">
                    Terminology
                        F = front face
                        B = back face
                        R = right face
                        L = left face
                        U = up face
                        D = down face
                        A letter by itself means turn that face 90 degrees clockwise (eg. F)
                        A letter followed by an apostrophe means turn that face 90 degrees anti-clockwise (eg. F')
                    </pre>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<li class="slide" title="Limited vs Expressiveness">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <h1>Limited or expressive?</h1><br/>
        </div>
        <hr>

        <div class="row-fluid marketing">
        <div class="span2">
        </div>
        <div class="span8">
        <p style="line-height: 150%;font-size: 30px" >a language offering <strong>expressive power</strong> focused on a particular problem domain, such as a specific class of applications or application aspect</p>
        <h3>- Czarnecki Krzysztof </h3>
        </div>
        <div class="span2">
        </div>
        </div>
    </div>
</li>

<li class="slide" title="Boundaries">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <br/>
            <h1 class="blur">Boundaries are blurry</h1><br/>
            <br/>
        </div>
        <hr>
        <div class="row-fluid marketing">
            <div class="span4">
                <h1>Mini Language</h1>
                <hr>
                <pre class="code">prepare cake for tea</pre>
                <hr>
            </div>
            <div class="span4">
                <h1>Scripting</h1>
                <hr>
                <div> </div>
                <pre class="code">['cake', 'smoothie'].each{eat it}</pre>
                <hr>
            </div>
            <div class="span4">
                <h1>Fluent API</h1>
                <hr>
                <pre class="code">tea.willBe 45.minutes.from.now</pre>
                <hr>
            </div>
        </div>
    </div>
</li>

<li class="slide" title="Ext. vs int.">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <br/>
            <h1 >External vs Internal DSL</h1><br/>
            <br/>
        </div>
        <hr>
        <div class="row-fluid marketing">
            <div class="span6">
                <h1>External</h1>
                <img width="97%" src="img/pix.jpeg">
            </div>
            <div class="span6">
                <h1>Internal</h1>
                <pre style="text-align: left;white-space: pre;font-size: 16px">
<b style="color:#AF956F;">class</b> HelloSpock <b style="color:#AF956F;">extends</b> Specification {
 <b style="color:#AF956F;">def</b> <b style="color:#5D90CD;">"Spock's and his friends' names length"</b>() {
  expect:
   name.size() == length

   where:
    name     | length
    <b style="color:#5D90CD;">"Spock"</b>  | <b style="color:#46A609;">5</b>
    <b style="color:#5D90CD;">"Kirk"</b>   | <b style="color:#46A609;">4</b>
    <b style="color:#5D90CD;">"Scotty"</b> | <b style="color:#46A609;">6</b>
  }
}
                </pre>
            </div>
        </div>
    </div>
</li>

<li class="slide" style="display: inline-block; margin:0 auto;" title="Groovy" timing="7">
    <div class="span8"  id="wordcloud">
    </div>
</li>

<li class="slide" style="display: inline-block; margin:0 auto;" title="Scala" timing="9">
    <div class="span8" id="scala_wordcloud">
    </div>
</li>


<li class="slide" title="DSL & Game">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <br/>
            <h1>Game rules & DSL</h1><br/>
            <br/>
        </div>
        <hr>
        <div class="row-fluid marketing">
            <div class="span6">
                <h1>User1: Franklin</h1>
                <hr>
                <pre class="code">move left by 2.steps
move up by 3.steps
</pre>
                <hr>
            </div>
            <div class="span6">
                <h1>User2: Emily</h1>
                <hr>
                <div> </div>
                <pre class="code">move left by 2.steps
ask "What's is your name?" assign to name
</pre>
                <hr>
            </div>

        </div>
    </div>
</li>


<li class="slide" title="Script">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <h1>To start with: <br/>How to run Script?</h1><br/>
        </div>
        <hr>
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span4">
                <h3>Groovy</h3>
<pre class="code">def shell = new GroovyShell()
</pre>
            </div>
            <!--<p>Each script is an object inheriting from Script base class</p>-->
            <div class="span4">
                <h3>Scala</h3>
                <pre class="code">new scala.tools.nsc.interpreter.IMain
</pre>
                <h3>Scala within Grails</h3>
                <pre class="code">// Two next steps necessary only inside Grails/Groovy
                   // to be able to find right classpath
                    val env = new Settings()
                    env.usejavacp.value = true</pre>
            </div>
            <!-- http://scabl.blogspot.fr/2013/05/scripting-with-scala-and-sbt.html -->
            <div class="span2">
            </div>
        </div>
        <hr>
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <h3>JSR 223</h3>
                <p>on its way to standard scripting usage.....</p>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!------------------------------------------------------------------->
<!-- Groovy1. Script
<!-- step 1 define base class
<!-- step 2 remove move definition in script
<!------------------------------------------------------------------->
<li class="slide" style="text-align: left" title="Groovy Script" press="1 2 3 4">
    <textarea id="editorGroovy1" name="editorGroovy1">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Run Groovy Script">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="output" id="outputGroovy1">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!------------------------------------------------------------------->
<!-- Scala1. Script
<!-- step 1 define move method and move to left
<!-- step 2 use left as a variable instead of String
<!-- step 3 replace IMain with ScriptEngineManager
<!-- step 4 replace interpreter.eval with engine.eval
<!-- step 5 alternative for move
NOTE: JSR 223 simply wraps around the IMain so not very useful 
especially with Classpath issues - in the next slides we'll use IMain directly
<!------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Scala Script" press="1 2 3 4 5">
    <textarea id="editorScala1" name="editorScala1">import scala.tools.nsc.interpreter._
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Run Scala Script">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="output" id="outputScala1">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>


<li class="slide" title="Syntaxic Sugar" style="background-image:url('img/sugar.jpg');
background-repeat:no-repeat;background-attachment:fixed;
background-position:center;"  >
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <h1>How to write plain English with ( , ; ?<br/>Syntaxic Sugar</h1><br/>
        </div>
        <hr>
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span4">
                <h3>Groovy</h3>
<pre class="code"> move(left)
move left
</pre>

            <p>remove ;</p>
            <p>remove () when one parameter etc...</p>
            </div>
            <div class="span4">
                <h3>Scala</h3>
                <p>Objects are nouns, functions are verbs</p>
                This why move as an object is not ideal and will be improved in the dsl
                <p>
                <pre class=code>move to left
                move.to(left)</pre>
                </p>
                <p>
                <pre class=code>move left
                move.left()</pre>
                </p>
                <!-- interesting article
                http://docs.codehaus.org/display/GroovyJSR/GEP+3+-+Command+Expression+based+DSL
                -->
            </div>
            <div class="span2">
            </div>
        </div>
        <hr>
    </div>
</li>

<!------------------------------------------------------------------->
<!-- Groovy2. Base Class
<!-- step 1 define base class
<!-- step 2 remove move definition in script
<!-- step 3 introduce compilerConfiguration
<!-- step 4 inject it in groovy shell
<!------------------------------------------------------------------->
<li class="slide" style="text-align: left" title="Base class in Groovy" press="1 2 3 4 5">
    <textarea id="editorGroovy2" name="editorGroovy2">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Base class in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy2">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!-------------------------------------------------------------------
<!-- Scala2. Base Classfor Scala 
<!-- No equivalence
------------------------------------------------------------------->
 <li class="slide" style="text-align: left" title="Base class in Scala">
  <div class="container-narrow">
        <hr>
        <div class="jumbotron">
 There is No direct equivalence to baseclass
There exists in the interpreter some wrapping mechanism where some code can be executed around
not exactly identical. Most important equivalence is binding which is covered in next slides
</div>
</div>
</li>

<!-------------------------------------------------------------------
Groovy3. Binding
step 1 introduce right in binding
step 2 ad move right command
------------------------------------------------------------------->
<li class="slide" style="text-align: left" title="Binding in Groovy" press="1 2">
    <textarea id="editorGroovy3" name="editorGroovy3">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Binding in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy3">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!-------------------------------------------------------------------
<!-- Scala3. Binding for Scala
<!-- steps 1/2 add binding
<!-- steps 3/4/5 extract move
<!-- steps 5/6/7 Function binding
<!-- step  8 Object binding
<!-- Note: I use IMain because the ScripEngine has limitations with Bindings
<!--------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Binding in Scala" press="1 2 3 4 5 6 7 8">
    <textarea id="editorScala3" name="editorScala3">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Binding in Scala">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputScala3">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>


<!------------------------------------------------------------------
Groovy4. Structure my code
step 1 add Position
step 2 add Driection enums
step 3 add turtle class
step 4 new Turtle()
step 5 highlight compilerconf + binding
step 6 inject binding,
step 7 remove def left in GameScript
------------------------------------------------------------------>
<li class="slide" style="text-align: left" title="Add Turtle in Groovy" press="1 2 3 4 5 6 7">
    <textarea id="editorGroovy4" name="editorGroovy4">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Add Turtle in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy4">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!------------------------------------------------------------------
<!-- Scala4. Now we start to code the game
<!-- step 1 Position 
<!-- step 2 Direction
<!-- step 3 Turtle
<!-- steps 4/5/6 create the DSL with the bindings - fail due to cp issues
<!-- step 7 workaround for the presentation
<!-- step 8 alternate solution with implicits
<!-------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Add Turtle in Scala" press="1 2 3 4 5 6 7 8">
    <textarea id="editorScala4" name="editorScala4">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Add Turtle in Scala">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputScala4">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!------------------------------------------------------------------->
<!-- Groovy5. Building JSON
<!-- step 1 use steps instead println
<!-- step 2 after eval get value of steps
<!-- step 3 jsonbuilder
<!-- step 4 up the stairs
<!-- cmd-S for text output cmd-D for canvas output
<!------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Build JSON in Groovy" press="1 2 3 4 5 6 7">
    <textarea id="editorGroovy5" name="editorGroovy5">
</textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Build JSON in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy5">
                </pre>
                <canvas id="canvasGroovy5" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!------------------------------------------------------------------
<!-- Scala5. Build JSon
<!-- steps 1/2/3 creation of steps recording
<!-- steps 4/5/6 generation of JSon
<!-- step 7 display result
<!-------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Build JSON in Scala" press="1 2 3 4 5 6 7">
    <textarea id="editorScala5" name="editorScala5">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Build JSON in Scala">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputScala5">
                </pre>
                <canvas id="canvasScala5" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!------------------------------------------------------------------->
<!-- slide command chaining
<!------------------------------------------------------------------->
<li class="slide" title="Command Chaining">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <br/>
            <h1>Command chaining</h1><br/>
            <br/>
        </div>
        <hr>
    </div>
    <div class="row-fluid marketing">
        <div class="span2">
        </div>
        <div class="span8">
            <p style="line-height:150%; font-size:25px;font-style:italic"><strong>Method chaining</strong> is a common technique for invoking multiple method calls in object-oriented programming languages. Each method returns an object (possibly the current object itself), allowing the calls to be chained together in a single statement.</p>
            <div style="line-height:150%; font-size:20px;" class="general quote-author">- wikipedia</div>
        </div>
        <div class="span2">
        </div>
    </div>
    <div class="row-fluid marketing">
        <div class="span3">
        </div>
        <div class="span3">
            <hr>
            <div style="line-height:150%;font-size:25px;text-align:left;">
                <b>Groovy:</b>
                <div style="color:grey"> move left</div>
                <div>    => move(left)</div>
                <div style="color:grey">move left by 2</div>
                <div>    => move(left).by(2)</div>
            </div>
            <hr>
        </div>
        <div class="span3">
            <hr>
            <div style="line-height:150%;font-size:25px;text-align:left;">
                <b>Scala:</b>
                <div style="color:grey">I move left</div>
                <div>    => I.move(left)</div>
                <div style="color:grey">I move left by 2</div>
                <div>    => I.move(left).by(2)</div>
            </div>
            <hr>
        </div>
        <div class="span3">
        </div>
    </div>
</li>

<!-------------------------------------------------------------------
Groovy6. Command chaining
step 1: highlight dsl syntax
step 2: move left by 2
step 3: add by method
step 4: highlight steps.add from turtle move
step 5: remove steps.add from turtle mve
step 6: add steps.add to turtle by
step 7: change new Position to add direction
------------------------------------------------------------------->
<li class="slide" style="text-align: left" title="Command Chaining in Groovy" press="1 2 3 4 5 6 7">
    <textarea id="editorGroovy6" name="editorGroovy6">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Command Chaining in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy6">
                </pre>
                <canvas id="canvasGroovy6" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!------------------------------------------------------------------->
<!-- slide Back to command chaining
<!------------------------------------------------------------------->
<li class="slide" title="Back to Command Chaining">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <br/>
            <h1>How to deal with odd number in Groovy?</h1><br/>
            <br/>
        </div>
        <hr>
    </div>

    <div class="row-fluid marketing">
        <div class="span4">
        </div>
        <div class="span4">
            <hr>
            <div style="line-height:150%;font-size:25px;text-align:left;">
                <div style="color:grey"> move left by 2 steps</div>
                <div>    => move(left).by(2).steps</div>
            </div>
            <hr>
        </div>
        <div class="span4">
        </div>
    </div>
</li>


<!-------------------------------------------------------------------
Groovy6b. Command chaining odd number
step 1: highlight dsl syntax
step 2: move left by 2 steps
step 3: highlight by method
step 4: change by method to return map
------------------------------------------------------------------->
<li class="slide" style="text-align: left" title="Odd Chaining in Groovy" press="1 2 3 4">
    <textarea id="editorGroovy6b" name="editorGroovy6b">
    </textarea>
</li>


<li class="slide" style="text-align: left" title="Output for Odd Chaining in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy6b">
                </pre>
                <canvas id="canvasGroovy6b" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!------------------------------------------------------------------->
<!-- command chaining  in scala
<!------------------------------------------------------------------->
<li class="slide" title="Command in Scala">
    <div class="container-narrow">
        <hr>
        <div class="jumbotron">
            <br/>
            <h1>Command chaining in Scala</h1><br/>
            <br/>
        </div>
        <hr>
    </div>

    <div class="row-fluid marketing">
        <div class="span4">
        </div>
        <div class="span4">
            <hr>
            <div style="line-height:150%;font-size:25px;text-align:left;">
                <div style="color:grey">move left</div>
                <div>    => not easy</div>
                <div style="color:grey">I move left</div>
                <div>    => I.move(left)</div>
                <div style="color:grey">I move left by 2 steps</div>
                <div>    => I.move(left).by(2).steps</div>
            </div>
            <hr>
        </div>
        <div class="span4">
        </div>
    </div>
</li>
<!-------------------------------------------------------------------
<!-- Scala6. Command chaining odd number
<!-- steps 1/2/3/4 create by method with a lastDirection option variable
<!-- steps 5/6 add step/steps keyword
<!--------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Command Chaining in Scala" press="1 2 3 4 5 6">
    <textarea id="editorScala6" name="editorScala6">
    </textarea>
</li>


<li class="slide" style="text-align: left" title="Output for Command Chaining in Scala">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputScala6">
                </pre>
                <canvas id="canvasScala6" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>
<!------------------------------------------------------------------->
<!-- kiss
<!------------------------------------------------------------------->
<li class="slide" title="One command only">
    <div class="container-narrow">
        <br/><br/><br/><br/><hr>
        <h1>What about if... </h1><br/>
        <div class="span3">
        </div>
        <div class="span6">

            <div style="line-height:150%;font-size:25px;text-align:center;">
                ...there is only one command in Groovy ?
            </div>

        </div>
        <div class="span3">
        </div> <br/>
        <hr>
    </div>

    <div class="row-fluid marketing">
        <div class="span5">
        </div>
        <div class="span2">

            <div style="line-height:150%;font-size:25px;text-align:left;">

                <div style="color:darkred;font-size: 55px">kiss</div>
            </div>

        </div>
        <div class="span5">
        </div>
    </div>
</li>

<!-------------------------------------------------------------------
Groovy6c. One method without parameter
------------------------------------------------------------------->
<li class="slide" style="text-align: left" title="kiss or kiss()" press="1 2 3 4 5 6 7 8">
    <textarea id="editorGroovy6c" name="editorGroovy6c">
    </textarea>
</li>


<li class="slide" style="text-align: left" title="Output for kiss in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy6c">
                </pre>
                <canvas id="canvasGroovy6c" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>
<!------------------------------------------------------------------->
<!-- invokeMethod vs MethodMissing
<!------------------------------------------------------------------->
<li class="slide" title="MOP">
    <div class="container-narrow">

            <h1>invokeMethod vs methodMissing</h1><br/>
    </div><hr>

    <div class="row-fluid marketing">
        <div class="span1">
        </div>
        <div class="span5">
            <div style="line-height:150%;font-size:25px;text-align:left;">
                <div style="color:grey">invokeMethod</div>
                <div style="color:grey">getProperty</div>
                <div>    => on GroovyObject</div>
                <div>    => intercept every method call</div>
            </div>
        </div>
        <div class="span5">
            <div style="line-height:150%;font-size:25px;text-align:left;">
                <div style="color:grey">missingMethod</div>
                <div style="color:grey">missingProperty</div>
                <div>    => since Groovy 1.5</div>
                <div>    => only occur on failed dispatch</div>
                <div>    => use with dynamic method registration</div>
            </div>
        </div>
        <div class="span1">
        </div>
    </div>
    <div class="row-fluid marketing">
        <div class="span2">
        </div>
        <div class="span8">
            <hr>
            <div style="line-height:150%;font-size:25px;text-align:left;">
                Dynamic finder in Grails
                <pre>
class GORM {

   def dynamicMethods = [...] // an array of dynamic methods that use regex
   def methodMissing(String name, args) {
       def method = dynamicMethods.find { it.match(name) }
       if(method) {
          GORM.metaClass."$name" = { Object[] varArgs ->
             method.invoke(delegate, name, varArgs)
          }
          return method.invoke(delegate,name, args)
       }
       else throw new MissingMethodException(name, delegate, args)
   }
}</pre>
            </div>
            <hr>
        </div>
        <div class="span2">
        </div>
    </div>
</li>

<!------------------------------------------------------------------->
<!-- kiss in scala
<!------------------------------------------------------------------->
<li class="slide" title="Kiss">
    <div class="container-narrow">
        <br/><br/><br/><br/><hr>
        <h1>Kiss in Scala </h1><br/>
        <hr>
    </div>

</li>
<!--TODO Pascal-->
<!-------------------------------------------------------------------
Groovy7. Adding behavior to Integer
step1: highlight dsl
step2: move left by 2.steps
step3: add class StepCategory
step4: highlight shell.eval
step5: modify shell.eval with use()
step6: highlight class StepCategory
step7: replace with @Category annotation
------------------------------------------------------------------->
<li class="slide" style="text-align: left" title="Adding behaviour to Integer in Groovy" press="1 2 3 4 5 6 7">
    <textarea id="editorGroovy7" name="editorGroovy7">
    </textarea>
</li>


<li class="slide" style="text-align: left" title="Output for Adding behaviour to Integer in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy7">
                </pre>
                <canvas id="canvasGroovy7" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!-------------------------------------------------------------------
<!-- Scala7. Add behaviour to Integer - Usage of implicits
<!-- steps 1/2 add times to Integer
<!-- steps 3/4/5 create steps case class
<!--------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Adding behaviour to Integer in Scala" press="1 2 3 4 5">
    <textarea id="editorScala7" name="editorScala7">
    </textarea>
</li>


<li class="slide" style="text-align: left" title="Output for Adding behaviour to Integer in Scala">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputScala7">
                </pre>
                <canvas id="canvasScala7" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!-------------------------------------------------------------------
Groovy8. TypeChecked
step 1: highlight compiler
step 2: add typechecked ext
<!------------------------------------------------------------------->
<li class="slide" style="text-align: left" title="TypeChecked in Groovy" press="1 2">
    <textarea id="editorGroovy8" name="editorGroovy8">
    </textarea>
</li>


<li class="slide" style="text-align: left" title="Output for TypeChecked in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy8">
                </pre>
                <canvas id="canvasGroovy8" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!-------------------------------------------------------------------
<!-- Scala8. Dynamics
<!-- step 1 Test select dynamic
<!-- step 2 Test update dynamic
<!-- step 3 Test apply dynamic
<!-- step 4 Test apply dynamic named
<!------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Dynamics in Scala" press="1 2 3 4">
    <textarea id="editorScala8" name="editorScala8">
    </textarea>
</li>


<li class="slide" style="text-align: left" title="Output for Dynamics in Scala">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputScala8">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>


<!-------------------------------------------------------------------
<!-- Groovy9. Turn around - Timer set to 5s
<!--------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Franklin wants to turn around in Groovy" press="1 2 3 4">
    <textarea id="editorGroovy9" name="editorGroovy9">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Franklin wants to turn around in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy9">
                </pre>
                <canvas id="canvasGroovy9" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!-------------------------------------------------------------------
<!-- Scala9. Turn around - Timer set to 5s
<!--------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Franklin wants to turn around in Scala" press="1">
    <textarea id="editorScala9" name="editorScala9">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Franklin wants to turn around in Scala">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputScala9">
                </pre>
                <canvas id="canvasScala9" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>


<!-------------------------------------------------------------------
Groovy10. Sneaky
step 1: highlight dsl
step 2: add system.exit
step 3: add SecureASTCustomizer
------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Franklin wants to play with fire in Groovy" press="1 2 3">
    <textarea id="editorGroovy10" name="editorGroovy10">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Franklin wants to play with fire in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovy10">
                </pre>
                <canvas id="canvasGroovy10" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!-------------------------------------------------------------------
<!-- Scala10. Sneaky - Franklin plays with fire
<!--------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Franklin wants to play with fire in Scala" press="1">
    <textarea id="editorScala10" name="editorScala10">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Franklin wants to play with fire in Scala">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputScala10">
                </pre>
                <canvas id="canvasScala10" width="1000" height="1000" style="background-color: #f5f5f5;max-width: 500px; width: 100%;"></canvas>
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>


<!-------------------------------------------------------------------
Groovy11.ask
step1: insert DSL ask
step2: add ask method
step3: add propertyMissingMethod
step4: add display map method
step5: add display map in DSL
------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Franklin wants to ask in Groovy" press="1 2 3 4 5">
    <textarea id="editorGroovy11" name="editorGroovy11">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Franklin wants to ask in Groovy">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="output" id="outputGroovy11">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<li class="slide" title="DSL Sequence">
    <div class="row-fluid marketing">
        <div class="span12">
            <img src="img/ask and ast.png" width="80%"/>
        </div>
    </div>
</li>


<!------------------------------------------------------------------->
<!-- Groovy12. AST for user transform
<!------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="AST Tranformation" press="">
    <textarea id="editorGroovy12" name="editorGroovy12">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output AST">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="output" id="outputGroovy12">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!-------------------------------------------------------------------
Scala11.ask
<!--------------------------------------------------------------------->

<li class="slide" style="text-align: left" title="Franklin wants to ask in Scala" press="1">
    <textarea id="editorScala11" name="editorScala11">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Franklin wants to ask in Scala">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="output" id="outputScala11">
                </pre>
                <hr>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>


<!------------------------------------------------------------------->
<!-- Let's play
<!------------------------------------------------------------------->

<li class="slide" title="Putting everything together">
    <div class="container-narrow">
        <hr>

        <div style="text-align: center" class="jumbotron">
Let's put everything together and let's play
</div>
        <hr>
</div>
</li>

<!------------------------------------------------------------------->
<!-- Builder in Groovy
<!------------------------------------------------------------------->

<li class="slide" title="Builder in Groovy">

    <div class="container-narrow">

        <h1>Builder pattern</h1>
    </div><hr>

    <div class="row-fluid marketing">
        <div class="span2">
        </div>
        <div class="span3">
            <div style="line-height:150%;font-size:25px;text-align:left;">
                <img src="img/bob.jpg"/>
            </div>
        </div>
        <div class="span5">
            <div style="line-height:150%;font-size:25px;text-align:left;">
                <b>Purpose of builder pattern:</b> separate the construction of a complex object from its representation to reuse construction process to create different representation.
                <br/><b>Dynamic Groovy</b> with <span style="color:grey">invokeMethod</span>
                and <b>scopes</b> <span style="color:grey">(this, owner, delegate, self)</span> to the rescue!
            </div>
        </div>
        <div class="span2">
        </div>
    </div>
    <div class="row-fluid marketing">
        <div class="span2">
        </div>
        <div class="span8">
            <hr>
            <div style="line-height:150%;font-size:25px;text-align:left;">
                Resolve strategy for Closure.
                <pre>
         OWNER_FIRST (the default): followed by the delegate if not found.
         DELEGATE_FIRST: and then search the owner if not found.
         OWNER_ONLY: and don't search the delegate.
         DELEGATE_ONLY: with no search of the owner.
         TO_SELF: getProperty of the Closure itself to be overridden.</pre>
            </div>
            <hr>
        </div>
        <div class="span2">
        </div>
    </div>
</li>

<li class="slide" style="text-align: left" title="Groovy Builder" press="1">
    <textarea id="editorGroovyBuilder" name="editorGroovyBuilder">
    </textarea>
</li>

<li class="slide" style="text-align: left" title="Output for Groovy Builder">
    <div class="container-narrow">
        <div class="row-fluid marketing">
            <div class="span2">
            </div>
            <div class="span8">
                <hr>
                <pre class="code" id="outputGroovyBuilder">
                </pre>
            </div>
            <div class="span2">
            </div>
        </div>
    </div>
</li>

<!------------------------------------------------------------------->
<!-- TypeChecked Builder in Groovy
http://www.jroller.com/melix/entry/static_builders_inception
<!------------------------------------------------------------------->

<li class="slide" title="Type checked Builder">

    <div class="container-narrow">

        <h1>Type checked builder?</h1>

    </div><hr>

    <div class="row-fluid marketing">
        <div class="span2">
        </div>
        <div class="span2">
            <div style="line-height:150%;font-size:25px;text-align:left;">
                <img src="img/cedric.jpg" width="70%"/><br/><span style="font-size: 18px">@CedricChampeau <span>
            </div>
        </div>
        <div class="span6">
            <div style="line-height:150%;font-size:25px;text-align:left;">
                Builders are dynamic features?<br/><span style="font-size: 18px">Impossible is not french...</span><br/>
                How to implementation a <b>statically compiled HTML builder</b>?<br/>Using <span style="color:grey">static compilation</span>,
                <span style="color:grey">@DelegatesTo</span>, meta-annotations, custom <span style="color:grey">type checking extensions</span>
                and  <span style="color:grey">AST transformations</span>
                to the rescue!
            </div>
        </div>
        <div class="span2">
        </div>
    </div>
    <div class="row-fluid marketing">
        <div class="span2">
        </div>
        <div class="span8">
            <hr>
            <div style="line-height:150%;font-size:25px;text-align:left;">
                <pre>
@groovy.transform.CompileStatic
String build() {
    def builder = new HTMLBuilder()
    builder.html {
        body {
            p {
                out << "Hello, this is "
                a(href:'http://groovy.codehaus.org') { out << 'Groovy' }
            }
        }
    }
}</pre>
            </div>
            <hr>
        </div>
        <div class="span2">
        </div>
    </div>
</li>
<!------------------------------------------------------------------->
<!-- TypeChecked Builder in Groovy (2)
http://www.jroller.com/melix/entry/static_builders_inception
TODO editor or slide to explain
<!------------------------------------------------------------------->

<!------------------------------------------------------------------->
<!-- Going further
<!------------------------------------------------------------------->

<li class="slide" title="Enlarging the scope - Testing">
    <div class="container-narrow">
        <hr>

        <div style="text-align: center" class="jumbotron">
Testing the DSL
</div>
        <hr>
</div>
</li>

<!------------------------------------------------------------------->
<!-- Going further (2)
<!------------------------------------------------------------------->

<li class="slide" title="Enlarging the scope - Features">
    <div class="container-narrow">
        <hr>

        <div style="text-align: center" class="jumbotron">
        <ul>
<li>
Features not shown in this session in Scala
<ul>
<li>macros</li> 
<li>LMS and Scala virtualization</li>
<li>Type Classes</li>
</ul>
</li>
<li>External DSLs with ANTLR, Parser Combinators, XText in Eclipse</li>
<li>Visual DSLs</li>
<li>DSL Internationalization</li>
</li>
</ul>
</div>
        <hr>
</div>
</li>


<!------------------------------------------------------------------->
<!-- References
<!------------------------------------------------------------------->

<li class="slide" title="References">
    <div class="container-narrow">
        <hr>

        <div style="text-align: center" class="jumbotron">
            <img width="20%" src="img/rivierargug.png"/><br/>
        </div>

        <hr>

        <div  class="row-fluid marketing">
            <div class="span1">
            </div>
            <div class="span5">
                <div style="line-height: 150%;font-size:30px;font-weight:bold">Like the presentation format?</div>
                <div id="technologies" style="line-height: 150%;font-size:30px;"></div>

                <div style="line-height: 150%;font-size:30px;font-weight:bold">Curious about code?</div>
                <a href="https://github.com/corinnekrych/DslPrez" style="line-height: 150%;font-size:20px;">https://github.com/corinnekrych/DslPrez</a>

                <div style="line-height: 150%;font-size:30px;font-weight:bold">Want to play with it?</div>
                <a href='https://github.com/corinnekrych/KissingTurtles' style="line-height: 150%;font-size:20px;">https://github.com/corinnekrych/KissingTurtles</a>
            </div>
            <div class="span5">
                <div style="line-height: 150%;font-size:30px;font-weight:bold">Special Thanks</div>
                <div style="line-height: 150%;font-size:20px;">Mathieu Bruyen, Sebastien Blanc, Fabrice Matrat</div>
                <div style="line-height: 150%;font-size:30px;font-weight:bold">References</div>
                <table>
                   <tr>
                      <td>
                         <div style="line-height: 150%;font-size:20px;">Domain-Specific Languages</div>
                         <div style="line-height: 150%;font-size:20px;font-style:italic">Martin Fowler, with Rebecca Parsons</div>
                         <div style="line-height: 150%;font-size:20px;">DSL in Action</div>
                         <div style="line-height: 150%;font-size:20px;font-style:italic">Debasish Gosh</div>
                      </td>
                      <td>
                        <div style="line-height: 150%;font-size:20px;">Groovy for Domain-Specific Languages  </div>
                        <div style="line-height: 150%;font-size:20px;font-style:italic">Fergal Dearle</div>
                        <div style="line-height: 150%;font-size:20px;">Groovy in Action</div>
                        <div style="line-height: 150%;font-size:20px;font-style:italic">Guillaume Laforge, Paul King, Jon Skeet </div>
                      </td>
                      <td>
                         <div style="line-height: 150%;font-size:20px;">Programming in Scala (second Edition)</div>
                         <div style="line-height: 150%;font-size:20px;font-style:italic">Martin Odersky, Lex Spoon, and Bill Venners</div>
                         <div style="line-height: 150%;font-size:20px;">Scala for the impatient</div>
                         <div style="line-height: 150%;font-size:20px;font-style:italic">Cay Horstmann</div>
                         <div style="line-height: 150%;font-size:20px;">Scala in Depth</div>
                         <div style="line-height: 150%;font-size:20px;font-style:italic">Josh Suereth</div>
                         <div style="line-height: 150%;font-size:20px;">Programming Scala</div>
                         <div style="line-height: 150%;font-size:20px;font-style:italic">Alex Payne</div>
                         
                      </td>
                   </tr>
           </table>
           </div>
            <div class="span1">
            </div>
        </div>
    </div>
</li>

</ul>
</div>
<div id="footer">
    <div style="float:left;width:33%;">
        <a id="previous">
            <table><tr><td style="vertical-align:middle;"><img  src="img/previous.png" style="height:40px"/></td><td id="previous-title"> Previous</td></tr></table>
        </a>
    </div>
    <div style="display: inline-block; margin:0 auto;position:relative;top:10px; width:33%;">
        <a id="currentPress" style="font-size:20px;"></a>
    </div>
    <div style="float:right;width:33%;">
        <a id="next">
            <table style="float:right;"><tr><td id="next-title" style="vertical-align: middle; ">Next</td><td id="count"></td><td><img src="img/next.png" style="height:40px"/></td></tr></table>
        </a>
    </div>
</div>

<script src="js/jquery-1.9.1.min.js"></script>
<script src="js/codemirror.js"></script>
<script src="js/foldcode.js"></script>
<script src="js/foldgutter.js"></script>
<script src="js/brace-fold.js"></script>
<script src="js/xml-fold.js"></script>
<script src="js/comment-fold.js"></script>
<script src="js/groovy.js"></script>

<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
<script src="js/html5.js">
</script>
<![endif]-->
<script src="js/bootstrap.js"></script>
<script src="js/editor.js"></script>
<script src="js/jquery.airport-1.1.source.js"></script>
<script src="js/jqcloud-1.0.4.min.js"></script>
<script src="js/prez.js"></script>
<script src="js/prez-scala.js"></script>
<script src="js/ktDraw.js"></script>
<script src="js/slide.js"></script>

<script>

     var scala_word_array = [
            {text: "Syntaxic sugar", weight: 6},
            {text: "Traits mixin", weight: 4},
            {text: "Extractor/Apply mechanism", weight: 6},
            {text: "Pattern matching", weight: 8},
            {text: "Partial functions", weight: 8},
            {text: "Currying", weight: 7},
            {text: "Strong Typing", weight: 6},
            {text: "Implicit mechanisms", weight: 9},
            {text: "Type Inference", weight: 3},
            {text: "Type classes", weight: 4},
            {text: "Abstract Types", weight: 5},
            {text: "Case class", weight: 6},
            {text: "Higher order functions", weight: 7},
            {text: "Macros", weight: 2},
            {text: "Parser Combinators", weight: 3},
            {text: "Operators", weight: 4},
            {text: "LMS, Scala virtualization", weight: 1},
            {text: "Scripting support", weight: 6}
        ];
   
    var showCloudWithArgs = function(key,word_array) {
        var height = screen.height;
        var width = screen.width;
        $("#"+key+"_wordcloud").empty();
        $("#"+key+"_wordcloud").jQCloud(word_array,{
            height: $(window).height()*0.7,
            width: $(window).width()*0.8
        });
    };
    
    var showCloud = function() {
        var height = screen.height;
        var width = screen.width;
        var word_array = [
            {text: "syntax sugar", weight: 9},
            {text: "less punctuation", weight: 7},
            {text: "scripting", weight: 5},
            {text: "binding", weight: 7},
            {text: "no getter setter", weight: 1},
            {text: "map", weight: 7},
            {text: "named parameters", weight: 8},
            {text: "closure", weight: 6},
            {text: "GString", weight: 4},
            {text: "public visibility", weight: 2},
            {text: "return statement optional", weight: 3},
            {text: "groovy truth", weight: 7},
            {text: "operator overloading", weight: 1},
            {text: "GroovyMarkup", weight: 4},
            {text: "method pointer", weight: 6},
            {text: "runtime transformation", weight: 1},
            {text: "MOP", weight: 9},
            {text: "Expando", weight: 8},
            {text: "Categories", weight: 7},
            {text: "methodMissing", weight: 8},
            {text: "command chaining", weight: 1},
            {text: "compile time transformation", weight: 7},
            {text: "AST transformation", weight: 10},
            {text: "CST transformation", weight: 5},
            {text: "TypeChecked DSL", weight: 10}
        ];
        $("#wordcloud").empty();
        $("#wordcloud").jQCloud(word_array,{
            height: $(window).height()*0.7,
            width: $(window).width()*0.8
        });
    };

    var showGroovyDuke = function() {
        $('.CodeMirror').addClass("groovyduke");
        $(document.body).addClass("groovycolor");
    }
    var showScalaDuke = function() {
        $('.CodeMirror').addClass("scaladuke");
        $(document.body).addClass("scalacolor");
    }
    var removeGroovyDuke = function() {
        $('.CodeMirror').removeClass("groovyduke");
        $(document.body).removeClass("groovycolor");
    }
    var removeScalaDuke = function() {
        $('.CodeMirror').removeClass("scaladuke");
        $(document.body).removeClass("scalacolor");
    }
    var slide = new dslPrez.Slide();
    slide.enter("Groovy", showCloud);
    
    slide.enter("Scala", function() {
        showCloudWithArgs("scala", scala_word_array)
    });

    slide.enter("Groovy Script", showGroovyDuke, removeGroovyDuke);
    slide.enter("Run Groovy Script", showGroovyDuke, removeGroovyDuke);
    
    slide.enter("Scala Script", showScalaDuke, removeScalaDuke);
    slide.enter("Run Scala Script", showScalaDuke, removeScalaDuke);

    slide.enter("Base class in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Base class in Groovy", showGroovyDuke, removeGroovyDuke);

    slide.enter("Base class in Scala", showScalaDuke, removeScalaDuke);
    
    slide.enter("Binding in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Binding in Groovy", showGroovyDuke, removeGroovyDuke);

    slide.enter("Binding in Scala", showScalaDuke, removeScalaDuke);
    slide.enter("Output for Binding in Scala", showScalaDuke, removeScalaDuke);

    slide.enter("Add Turtle in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Add Turtle in Groovy", showGroovyDuke, removeGroovyDuke);
    
    slide.enter("Add Turtle in Scala", showScalaDuke, removeScalaDuke);
    slide.enter("Output for Add Turtle in Scala", showScalaDuke, removeScalaDuke);

    slide.enter("Build JSON in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Build JSON in Groovy", showGroovyDuke, removeGroovyDuke);
    
    slide.enter("Build JSON in Scala", showScalaDuke, removeScalaDuke);
    slide.enter("Output for Build JSON in Scala", showScalaDuke, removeScalaDuke);

    slide.enter("Command Chaining in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Command Chaining in Groovy", showGroovyDuke, removeGroovyDuke);

    slide.enter("Command Chaining in Scala", showScalaDuke, removeScalaDuke);
    slide.enter("Output for Command Chaining in Scala", showScalaDuke, removeScalaDuke);

    slide.enter("Odd Chaining in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Odd Chaining in Groovy", showGroovyDuke, removeGroovyDuke);

     slide.enter("kiss or kiss()", showGroovyDuke, removeGroovyDuke);
     slide.enter("Output for kiss in Groovy", showGroovyDuke, removeGroovyDuke);

    slide.enter("Adding behaviour to Integer in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Adding behaviour to Integer in Groovy", showGroovyDuke, removeGroovyDuke);

    slide.enter("Adding behaviour to Integer in Scala", showScalaDuke, removeScalaDuke);
    slide.enter("Output for Adding behaviour to Integer in Scala", showScalaDuke, removeScalaDuke);
 
    slide.enter("TypeChecked in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for TypeChecked in Groovy", showGroovyDuke, removeGroovyDuke);

    slide.enter("Dynamics in Scala", showScalaDuke, removeScalaDuke);
    slide.enter("Output for Dynamics in Scala", showScalaDuke, removeScalaDuke);
    
    slide.enter("Franklin wants to turn around in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Franklin wants to turn around in Groovy", showGroovyDuke, removeGroovyDuke);

    slide.enter("Franklin wants to turn around in Scala",showScalaDuke, removeScalaDuke);
    slide.enter("Output for Franklin wants to turn around in Scala", showScalaDuke, removeScalaDuke);

    slide.enter("Franklin wants to play with fire in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Franklin wants to play with fire in Groovy", showGroovyDuke, removeGroovyDuke);

    slide.enter("Franklin wants to play with fire in Scala", showScalaDuke, removeScalaDuke);
    slide.enter("Output for Franklin wants to play with fire in Scala", showScalaDuke, removeScalaDuke);

    slide.enter("Franklin wants to ask in Groovy", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Franklin wants to ask in Groovy", showGroovyDuke, removeGroovyDuke);

    slide.enter("AST Tranformation", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output AST", showGroovyDuke, removeGroovyDuke);

    slide.enter("Franklin wants to ask in Scala", showScalaDuke, removeScalaDuke);
    slide.enter("Output for Franklin wants to ask in Scala", showScalaDuke, removeScalaDuke);

    slide.enter("Groovy Builder", showGroovyDuke, removeGroovyDuke);
    slide.enter("Output for Groovy Builder", showGroovyDuke, removeGroovyDuke);

     slide.start({
        progressbar: true,
        duration: 7200,
        progressPrecision: 5
    });
</script>

</body>
</html>
